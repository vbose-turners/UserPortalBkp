@model Turners.UserPortal.Models.UserSearchViewModel

@{
    ViewBag.Title = "Home Page";
}


<div class="jumbotron">
    <h3>User Search</h3>
</div>

<div class="row">
    <div class="col-md-12">
        @using (Html.BeginForm("search", "home", FormMethod.Post))
        {
            @*<input type="text" name="userName" placeholder="User Name"/>*@
            @Html.TextBoxFor(x => x.UserName, new { @placeHolder = "User Name"})
            @Html.DropDownListFor(x => x.DepartmentName, Model.Departments, new { @placeholder = "Select a branch please" })

            <input name="submitAction" type="submit" value="Search" />
            <input name="submitAction" type="submit" value="Reset" />
        }
    </div>
    <div class="col-md-12">
        @if (!string.IsNullOrWhiteSpace(Model.DepartmentAddress))
        {
            <em>Branch Address: </em> <span class="bg-primary">@Model.DepartmentAddress</span>
        }
    </div>
    <div class="col-md-12 user-table-container">


        <p>
          
            @if (Model?.Users != null && ((Model?.Users?.Count ?? 0) > 0))
            {
                var headerModel = Model.Users[0];

                <div class="user-table-header">

                    <div>@Html.LabelFor(x => x.Users[0].Name)</div>
                    <div>@Html.LabelFor(x => x.Users[0].JobDescription)</div>
                    <div>@Html.LabelFor(x => x.Users[0].EmailAddress)</div>
                    <div>@Html.LabelFor(x => x.Users[0].TelephoneNumber)</div>
                    <div>@Html.LabelFor(x => x.Users[0].Extension)</div>
                    <div>@Html.LabelFor(x => x.Users[0].Mobile)</div>
                    <div>@Html.LabelFor(x => x.Users[0].Department)</div>

                </div>

                <div class="user-table-body">
                    @foreach (var user in Model.Users)
                    {
                        <div style="word-wrap: break-word;">@user.Name</div>
                        <div style="word-wrap: break-word;">@user.JobDescription</div>
                        <div style="word-wrap: break-word;">@user.EmailAddress</div>
                        <div style="word-wrap: break-word;">@user.TelephoneNumber</div>
                        <div style="word-wrap: break-word;">@user.Extension</div>
                        <div style="word-wrap: break-word;">@user.Mobile</div>
                        <div style="word-wrap: break-word;">@user.Department</div>
                    }

                </div>
            }
        </p>

    </div>
</div>