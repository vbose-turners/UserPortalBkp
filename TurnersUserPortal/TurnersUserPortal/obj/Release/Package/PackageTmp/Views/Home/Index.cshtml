@model Turners.UserPortal.Models.UserSearchViewModel

@{
    ViewBag.Title = "Home Page";
}


<div class="jumbotron">
    <h3>User Search</h3>
</div>

<div class="row">
    <div class="col-md-12">
        @using (Html.BeginForm("search", "home", FormMethod.Post))
        {
            @*<input type="text" name="userName" placeholder="User Name"/>*@
            @Html.TextBoxFor(x => x.UserName, new { @placeHolder = "User Name"})
            @Html.DropDownListFor(x => x.DepartmentName, Model.Departments, new { @placeholder = "Select a branch please" })

            <input name="submitAction" type="submit" value="Search" />
            <input name="submitAction" type="submit" value="Reset" />
        }
    </div>
    <div class="col-md-12">
        @if (!string.IsNullOrWhiteSpace(Model.DepartmentAddress))
        {
            <em>Branch Address: </em> <span class="bg-primary">@Model.DepartmentAddress</span>
        }
    </div>
    <div class="col-md-12 user-table-container">


        <p>

            @if (Model?.Users != null && ((Model?.Users?.Count ?? 0) > 0))
            {
                var headerModel = Model.Users[0];

                <table>
                    <thead>
                        <tr>
                            <th>@Html.LabelFor(x => x.Users[0].Name)</th>
                            <th>@Html.LabelFor(x => x.Users[0].JobDescription)</th>
                            <th>@Html.LabelFor(x => x.Users[0].EmailAddress)</th>
                            <th>@Html.LabelFor(x => x.Users[0].TelephoneNumber)</th>
                            <th>@Html.LabelFor(x => x.Users[0].Extension)</th>
                            <th>@Html.LabelFor(x => x.Users[0].Mobile)</th>
                            <th>@Html.LabelFor(x => x.Users[0].Department)</th>
                        </tr>
                    </thead>

                    <tbody>
                        @foreach (var user in Model.Users)
                        {
                            <tr>
                                <td>@user.Name</td>
                                <td>@user.JobDescription</td>
                                <td>@user.EmailAddress</td>
                                <td>@user.TelephoneNumber</td>
                                <td>@user.Extension</td>
                                <td>@user.Mobile</td>
                                <td>@user.Department</td>
                            </tr>
                        }

                    </tbody>
                </table>

            }
        </p>

    </div>
</div>